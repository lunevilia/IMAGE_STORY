{% load information_extras %}
{% load post_extras %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì´ë¯¸ì§€ìŠ¤í† ë¦¬</title>
    <link rel="icon" href="/static/imagestory.ico">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <script type="text/javascript" src="{% static 'jquery.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script type="text/javascript" src="{% static 'jquery.imagemapster.js' %}"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
    <script data-ad-client="ca-pub-1987584597836949" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <style>
    .svg-icon {
        width: 1.5em;
        height: 1.5em;
        transition: 1s;
    }

    .information{
            word-break:break-word;
    }

    .btn-gray{
        background-color: rgb(158, 158, 158);
        color: white;
    }
    .btn-togray{
        background-color: rgb(127, 127, 127);
        color: white;
        width: 140px;
    }

    .btn-pinks{
        background-color: rgb(250, 144, 144);
        color: white;
        width: 120px;
    }

    .view-area{
        display: none;
        cursor: pointer;
        width: 320px;
        background-color:rgb(224, 224, 224);
        margin: 10px auto;
        border-radius: 0.4em;
        font-size:1.6ch;
    }
    .non-view{
        display: block;
        cursor: pointer;
        width: 320px;
        background-color:rgb(224, 224, 224);
        margin: 10px auto;
        border-radius: 0.4em;
        font-size:1.6ch;
    }
    .fonta{
        font-size: 1.65ch;
    }
    h1.a{
        font-size: 2.5ch;
        text-align: center;
    }
    h1.a:after {
        content: "";
        display: block;
        width: 330px;
        margin: 10px auto 45px auto;
    }
    div.a{
        width: 330px;
        font-weight: 500;
        text-align: center;
        margin: -50px auto 0 auto;
        background-image: url("{% static 'ì´ë¯¸ì§€ìŠ¤í† ë¦¬/í˜ì´ì§€_7/1x/note.png' %}");
        background-size: cover;
        padding: 13.7px;
    }
    div.a:after{
        content: "";
        display: block;

    }

    </style>
    {% if get_board.image %}
    <style>
        #can_img{
            max-width: 100%;
        }
        @media all and (min-width:991px) and (max-width:3000px) {
            .fonta{
                font-size: 1.8ch;
            }
        }
        @media (min-width:769px){
            #can_img{
                max-width: 650px;
            }
        }

        @media (min-width:769px) and (max-width:1800px){
            #can_img{
                max-width: 800px;
            }
        }

        @media (min-width:1800px){
            #can_img{
                max-width: 850px;
            }
        }


    </style>

    <script type="text/javascript">

        var offsetX, offsetY; //ìŠ¤í¬ë¡¤ë¡œ ì›€ì§ì¼ë•Œ ìœ„ì¹˜ê°€ ê³„ì† ë³€í•´ì„œ í•´ë‹¹ ìœ„ì¹˜ë¥¼ scrollì´ ë³€í•  ë–„ë„ ë³€í•˜ê²Œ ì„¤ì •

        var canvas, ctx, flag = false,
            startX = 0,
            currX = 0,
            startY = 0,
            currY = 0,
            lastX = 0,
            lastY = 0,
            scaleWidth = 0,
            scaleHeight = 0,
            _flag = true;

        var select_color = "yellow",
            select_width = 5;


        function reOffset(){ //ìŠ¤í¬ë¡¤ë¡œ ì›€ì§ì¼ë•Œ ìœ„ì¹˜ê°€ ê³„ì† ë³€í•´ì„œ í•´ë‹¹ ìœ„ì¹˜ë¥¼ scrollì´ ë³€í•  ë–„ë„ ë³€í•˜ê²Œ ì„¤ì •
            var BB=document.getElementById('can').getBoundingClientRect();
            offsetX=BB.left;
            offsetY=BB.top;
        }

        window.onscroll=function(e){ reOffset(); } //ìŠ¤í¬ë¡¤ë¡œ ì›€ì§ì¼ë•Œ ìœ„ì¹˜ê°€ ê³„ì† ë³€í•´ì„œ í•´ë‹¹ ìœ„ì¹˜ë¥¼ scrollì´ ë³€í•  ë–„ë„ ë³€í•˜ê²Œ ì„¤ì •
        window.onresize=function(e){ reOffset(); } //í¬ê¸° ì¡°ì •ì‹œ




        function init() {
            var img = document.getElementById("can_img");
            //ì›ë˜ ìˆë˜ ì´ë¯¸ì§€ì™€ ë°”ê¿”ì§„ ì´ë¯¸ì§€ì˜ ë¹„ìœ¨ì„ ì•Œì•„ë³´ì

            var real_img_size = new Image(); //ì´ë¯¸ì§€ í¬ê¸°ê°€ ë™ì ì´ì—¬ë„ ë¹„ìœ¨ë¡œ í¬ê¸° ì¡°ì ˆí•˜ê¸° ìœ„í•´ì„œ ì„¤ì •
            real_img_size.src = '{{get_board.image.url}}'; //ì´ë¯¸ì§€ í¬ê¸°ê°€ ë™ì ì´ì—¬ë„ ë¹„ìœ¨ë¡œ í¬ê¸° ì¡°ì ˆí•˜ê¸° ìœ„í•´ì„œ ì„¤ì •

            scaleWidth = real_img_size.width / img.clientWidth; //ì´ë¯¸ì§€ í¬ê¸°ê°€ ë™ì ì´ì—¬ë„ ë¹„ìœ¨ë¡œ í¬ê¸° ì¡°ì ˆí•˜ê¸° ìœ„í•´ì„œ ì„¤ì •
            scaleHeight = real_img_size.height / img.clientHeight; //ì´ë¯¸ì§€ í¬ê¸°ê°€ ë™ì ì´ì—¬ë„ ë¹„ìœ¨ë¡œ í¬ê¸° ì¡°ì ˆí•˜ê¸° ìœ„í•´ì„œ ì„¤ì •

            //area ì˜ì—­ ì„¤ì •í•˜ê¸° ë””ìì¸ í•˜ê¸°

            $('img').mapster({
                stroke: true,
                showToolTip: true,
                clickNavigate: true,
                fillOpacity: 0.3,
                strokeWidth: 2,
                // boundList: list.find('li'),
                mapKey: 'state',
                // listSelectedClass: 'selected'
                areas: [
                {% for i in areas %}
                    {% if i.author == user.profile %}
                    {
                        key: '{{i.id}}',
                        stroke: true,
                        {% if user.is_authenticated %}
                        strokeColor:"ff44ff",
                        {% else %}
                        strokeColor:"FF0000",
                        {% endif %}
                        {% if i.secure == 'public' %}
                        toolTip: '{{i.title}}',
                        {% else %}
                        toolTip: 'ë¹„ê³µê°œ:{{i.title}}',
                        {% endif %}
                    },
                    {% elif i.secure == 'public' %}
                    {
                        key: '{{i.id}}',
                        stroke: true,
                        toolTip: '{{i.title}}',
                    },
                    {% else %}
                    {
                        key: '{{i.id}}',
                        stroke: true,
                        strokeColor:"FFFF00",
                        toolTip: 'ë¹„ê³µê°œ:{{i.title}}',
                    },
                    {% endif %}
                {% endfor %}
                ]
            });

            $('area').mapster('select');


            $('#mapster_wrap_0').css("margin", "auto"); //ê°€ìš´ë° ì •ë ¬


            canvas = document.getElementById('can');
            ctx = canvas.getContext("2d");

            canvas.width = img.clientWidth; //ë°”ë€Œì–´ì§„ widthë¥¼ ê¸°ì¤€ìœ¼ë¡œ canvasë„ í¬ê¸°ë¥¼ ì¡°ì •
            canvas.height = img.clientHeight;

            ctx.drawImage(img, 0, 0, canvas.width, canvas.height); //ì´ë¯¸ì§€ ì´ˆê¸°í™” : í¬ê¸°ë¥¼ ì¡°ì •í•œ ê¸°ì¤€ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ì´ˆê¸°í™”

            w = canvas.width;
            h = canvas.height;

            canvas.addEventListener("mousemove", function (e) {
                findxy('move', e)
            }, false);
            canvas.addEventListener("mousedown", function (e) {
                findxy('down', e)
            }, false);
            canvas.addEventListener("mouseup", function (e) {
                findxy('up', e)
            }, false);
            canvas.addEventListener("mouseout", function (e) {
                findxy('out', e)
            }, false);
            canvas.addEventListener("touchmove", function (e) {
                findxy('touchmove', e)
            }, false);
            canvas.addEventListener("touchstart", function (e) {
                findxy('touchdown', e)
            }, false);
            canvas.addEventListener("touchend", function (e) {
                findxy('touchup', e)
            }, false);
        }

        function draw() {
            ctx.beginPath();
            ctx.rect(startX, startY, lastX - startX, lastY - startY); //ì´ë¯¸ì§€ ê·¸ë¦´ë•ŒëŠ” ì¢€ ë‹¤ë¦„..
            ctx.strokeStyle = select_color;
            ctx.lineWidth = select_width;
            ctx.stroke();
            ctx.closePath();

            var x1 = document.getElementById("id_cord_sx");
            var y1 = document.getElementById("id_cord_sy");
            var x2 = document.getElementById("id_cord_lx");
            var y2 = document.getElementById("id_cord_ly");

            x1.value = parseInt(startX*scaleWidth); //image mapì„ ì €ì¥í•  ì¢Œí‘œë¥¼ ë§Œë“¤ê¸°
            y1.value = parseInt(startY*scaleHeight); //ì´ë¯¸ì§€ í¬ê¸°ê°€ ë™ì ì´ì—¬ë„ ë¹„ìœ¨ë¡œ í¬ê¸° ì¡°ì ˆí•˜ê¸° ìœ„í•´ì„œ ì„¤ì •
            x2.value = parseInt(lastX*scaleWidth);
            y2.value = parseInt(lastY*scaleHeight);
        }

        function change_cord(){ //ë•ŒëŠ” ìˆœê°„ ì¢Œí‘œ ìœ„ì¹˜ë§Œ ë°”ê¾¸ê¸°
            var temp;
            if (startX < lastX) // ì¢Œí‘œ image mapìœ¼ë¡œ ì¢Œí‘œ ë°”ê¾¸ê¸°
            {
                if (startY > lastY) //ì™¼ìª½ì•„ë˜ -> ì˜¤ë¥¸ìª½ìœ„
                {
                    temp = startY;
                    startY = lastY;
                    lastY = temp;
                }
            }
            else if (startX > lastX) //ì˜¤ë¥¸ìª½ìœ„ -> ì™¼ìª½ì•„ë˜
            {
                temp = startX;
                startX = lastX;
                lastX = temp;

                if (startY > lastY) //ì˜¤ë¥¸ìª½ì•„ë˜ -> ì™¼ìª½ìœ„
                {
                    temp = startY;
                    startY = lastY;
                    lastY = temp;
                }
            }

            document.getElementById("id_cord_sx").value = parseInt(startX*scaleWidth); //image mapì„ ì €ì¥í•  ì¢Œí‘œë¥¼ ë§Œë“¤ê¸°
            document.getElementById("id_cord_sy").value = parseInt(startY*scaleHeight); //ì´ë¯¸ì§€ í¬ê¸°ê°€ ë™ì ì´ì—¬ë„ ë¹„ìœ¨ë¡œ í¬ê¸° ì¡°ì ˆí•˜ê¸° ìœ„í•´ì„œ ì„¤ì •
            document.getElementById("id_cord_lx").value = parseInt(lastX*scaleWidth);
            document.getElementById("id_cord_ly").value = parseInt(lastY*scaleHeight);

            if (startX == lastX && startY == lastY){
                document.getElementById("id_cord_sx").value = "";
                document.getElementById("id_cord_sy").value = "";
                document.getElementById("id_cord_lx").value = "";
                document.getElementById("id_cord_ly").value = "";
            }

        }

        function findxy(res, e) {
            var img = document.getElementById("can_img");
            if (res == 'down') {
                if(_flag){
                    ctx.drawImage(img, 0, 0, canvas.width, canvas.height); // ì„ íƒí•˜ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì´ê¸° ìœ„í•´ì„œ ê·¸ë¦¼ ë‹¤ì‹œ ì´ˆê¸°í™”
                }
                currX = e.clientX - offsetX; //ìŠ¤í¬ë¡¤ë¡œ ì›€ì§ì¼ë•Œ ìœ„ì¹˜ê°€ ê³„ì† ë³€í•´ì„œ í•´ë‹¹ ìœ„ì¹˜ë¥¼ scrollì´ ë³€í•  ë–„ë„ ë³€í•˜ê²Œ ì„¤ì •
                currY = e.clientY - offsetY; //ìŠ¤í¬ë¡¤ë¡œ ì›€ì§ì¼ë•Œ ìœ„ì¹˜ê°€ ê³„ì† ë³€í•´ì„œ í•´ë‹¹ ìœ„ì¹˜ë¥¼ scrollì´ ë³€í•  ë–„ë„ ë³€í•˜ê²Œ ì„¤ì •
                if(_flag){ //ë§¨ì²˜ìŒ ëˆŒë¦° ìœ„ì¹˜ ìˆœê°„ ì €ì¥í•˜ê¸° ìœ„í•´ì„œ ì¡°ê±´ë¬¸!
                    startX = currX; // ë§¨ì²˜ìŒ ëˆŒë¦° ìœ„ì¹˜
                    startY = currY; // ë§¨ì²˜ìŒ ëˆŒë¦° ìœ„ì¹˜
                    _flag = false;
                }
                flag = true; //ëˆŒë¦° ìƒíƒœì¸ì§€ í™•ì¸
            }

            if (res == 'up') {
                lastX = currX // ë•ìœ„ì¹˜
                lastY = currY // ë•ìœ„ì¹˜
                flag = false; //ëˆŒë¦° ìƒíƒœì¸ì§€ í™•ì¸
                _flag = true; //ë°–ì„ ë‚˜ê°”ì„ ë•Œ, ë§¨ì²˜ìŒ ëˆŒë¦° ìœ„ì¹˜ë¥¼ ë‹¤ì‹œ ì €ì¥í•  ìˆ˜ ìˆë„ë¡ trueë¡œ
                //  draw(); //ê·¸ë¦¬ê¸°
                change_cord(); // ë•ŒëŠ” ìˆœê°„ ê·¸ë¦¼ì„ ê·¸ë¦° ì¢Œí‘œë¥¼ imagemapì— ë§ê²Œ ì¢Œí‘œ ë°”ê¾¸ê¸°
                currX = false; //ë°–ì„ ë‚˜ê°€ì„œ ì „ë¶€ ì´ˆê¸°í™”
                currY = false; //ë°–ì„ ë‚˜ê°€ì„œ ì „ë¶€ ì´ˆê¸°í™”
                startX = false; //ë°–ì„ ë‚˜ê°€ì„œ ì „ë¶€ ì´ˆê¸°í™”
                startY = false; //ë°–ì„ ë‚˜ê°€ì„œ ì „ë¶€ ì´ˆê¸°í™”
                lastX = false; //ë°–ì„ ë‚˜ê°€ì„œ ì „ë¶€ ì´ˆê¸°í™”
                lastY= false; //ë°–ì„ ë‚˜ê°€ì„œ ì „ë¶€ ì´ˆê¸°í™”
            }

            if (res == 'move') {
                if (flag) { //ëˆŒë¦° ìƒíƒœì¸ì§€ í™•ì¸
                    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
                    currX = e.clientX - offsetX; //ìŠ¤í¬ë¡¤ë¡œ ì›€ì§ì¼ë•Œ ìœ„ì¹˜ê°€ ê³„ì† ë³€í•´ì„œ í•´ë‹¹ ìœ„ì¹˜ë¥¼ scrollì´ ë³€í•  ë–„ë„ ë³€í•˜ê²Œ ì„¤ì •
                    currY = e.clientY - offsetY; //ìŠ¤í¬ë¡¤ë¡œ ì›€ì§ì¼ë•Œ ìœ„ì¹˜ê°€ ê³„ì† ë³€í•´ì„œ í•´ë‹¹ ìœ„ì¹˜ë¥¼ scrollì´ ë³€í•  ë–„ë„ ë³€í•˜ê²Œ ì„¤ì •
                    lastX = currX // ë•ìœ„ì¹˜
                    lastY = currY // ë•ìœ„ì¹˜
                    draw();
                }
            }

            if (res == 'touchdown') {
                if(_flag){
                    ctx.drawImage(img, 0, 0, canvas.width, canvas.height); // ì„ íƒí•˜ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì´ê¸° ìœ„í•´ì„œ ê·¸ë¦¼ ë‹¤ì‹œ ì´ˆê¸°í™”
                }
                currX = (e.targetTouches[0].clientX) - offsetX; //ìŠ¤í¬ë¡¤ë¡œ ì›€ì§ì¼ë•Œ ìœ„ì¹˜ê°€ ê³„ì† ë³€í•´ì„œ í•´ë‹¹ ìœ„ì¹˜ë¥¼ scrollì´ ë³€í•  ë–„ë„ ë³€í•˜ê²Œ ì„¤ì •
                currY = (e.targetTouches[0].clientY) - offsetY; //ìŠ¤í¬ë¡¤ë¡œ ì›€ì§ì¼ë•Œ ìœ„ì¹˜ê°€ ê³„ì† ë³€í•´ì„œ í•´ë‹¹ ìœ„ì¹˜ë¥¼ scrollì´ ë³€í•  ë–„ë„ ë³€í•˜ê²Œ ì„¤ì •
                if(_flag){ //ë§¨ì²˜ìŒ ëˆŒë¦° ìœ„ì¹˜ ìˆœê°„ ì €ì¥í•˜ê¸° ìœ„í•´ì„œ ì¡°ê±´ë¬¸!
                    startX = currX; // ë§¨ì²˜ìŒ ëˆŒë¦° ìœ„ì¹˜
                    startY = currY; // ë§¨ì²˜ìŒ ëˆŒë¦° ìœ„ì¹˜
                    _flag = false;
                }
                flag = true; //ëˆŒë¦° ìƒíƒœì¸ì§€ í™•ì¸
            }

            if (res == 'touchup') {
                lastX = currX // ë•ìœ„ì¹˜
                lastY = currY // ë•ìœ„ì¹˜
                flag = false; //ëˆŒë¦° ìƒíƒœì¸ì§€ í™•ì¸
                _flag = true; //ë°–ì„ ë‚˜ê°”ì„ ë•Œ, ë§¨ì²˜ìŒ ëˆŒë¦° ìœ„ì¹˜ë¥¼ ë‹¤ì‹œ ì €ì¥í•  ìˆ˜ ìˆë„ë¡ trueë¡œ
                //  draw(); //ê·¸ë¦¬ê¸°
                change_cord(); // ë•ŒëŠ” ìˆœê°„ ê·¸ë¦¼ì„ ê·¸ë¦° ì¢Œí‘œë¥¼ imagemapì— ë§ê²Œ ì¢Œí‘œ ë°”ê¾¸ê¸°
                currX = false; //ë°–ì„ ë‚˜ê°€ì„œ ì „ë¶€ ì´ˆê¸°í™”
                currY = false; //ë°–ì„ ë‚˜ê°€ì„œ ì „ë¶€ ì´ˆê¸°í™”
                startX = false; //ë°–ì„ ë‚˜ê°€ì„œ ì „ë¶€ ì´ˆê¸°í™”
                startY = false; //ë°–ì„ ë‚˜ê°€ì„œ ì „ë¶€ ì´ˆê¸°í™”
                lastX = false; //ë°–ì„ ë‚˜ê°€ì„œ ì „ë¶€ ì´ˆê¸°í™”
                lastY= false; //ë°–ì„ ë‚˜ê°€ì„œ ì „ë¶€ ì´ˆê¸°í™”
            }

            if (res == 'touchmove') {
                if (flag) { //ëˆŒë¦° ìƒíƒœì¸ì§€ í™•ì¸
                    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
                    currX = (e.targetTouches[0].clientX) - offsetX; //ìŠ¤í¬ë¡¤ë¡œ ì›€ì§ì¼ë•Œ ìœ„ì¹˜ê°€ ê³„ì† ë³€í•´ì„œ í•´ë‹¹ ìœ„ì¹˜ë¥¼ scrollì´ ë³€í•  ë–„ë„ ë³€í•˜ê²Œ ì„¤ì •
                    currY = (e.targetTouches[0].clientY) - offsetY; //ìŠ¤í¬ë¡¤ë¡œ ì›€ì§ì¼ë•Œ ìœ„ì¹˜ê°€ ê³„ì† ë³€í•´ì„œ í•´ë‹¹ ìœ„ì¹˜ë¥¼ scrollì´ ë³€í•  ë–„ë„ ë³€í•˜ê²Œ ì„¤ì •
                    lastX = currX // ë•ìœ„ì¹˜
                    lastY = currY // ë•ìœ„ì¹˜
                    draw();
                }
            }

        }

        function use_canvas(){ // ì„¤ì •í•˜ê¸° ëˆ„ë¥´ë©´ ìº”ë²„ìŠ¤ ì‚¬ìš©ê°€ëŠ¥
            var img = document.getElementById("can_img");
            if (document.getElementById('setting').value == "ì˜ì—­ì¶”ê°€"){
                //ìˆ˜ì •í•˜ê¸°ì˜ ëª¨ìŠµ ë°”ë€Œë„ë¡
                document.getElementById("mod_layer_intent").style.display="none";
                $('#mod_layer').val("ì˜ì—­ìˆ˜ì •");
                document.getElementById('can').style.display='block';
                $('#mapster_wrap_0').css("display", "none");
                document.getElementById('information_data').style.display='block';
                document.getElementById('setting').value ='ì˜ì—­ì¶”ê°€ì·¨ì†Œ';
                reOffset(); //ì¶”ê°€í•˜ê¸°ë¥¼ ëˆ„ë¥´ë©´ canvasì˜ offsetì´ ì´ˆê¸°í™”
            } else {
                document.getElementById('can').style.display='none';
                $('#mapster_wrap_0').css("display", "block");
                document.getElementById('information_data').style.display='none';
                document.getElementById('setting').value ='ì˜ì—­ì¶”ê°€';
                ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
                document.getElementById("id_cord_sx").value = "";
                document.getElementById("id_cord_sy").value = "";
                document.getElementById("id_cord_lx").value = "";
                document.getElementById("id_cord_ly").value = "";
            }
        }

        function see_all(){
            if ($('#see_all').val() == "ì˜ì—­ ì „ë¶€ë³´ê¸°"){
                // ë‹¤ë¥¸ ë…€ì„ ì•ˆë³´ì´ë„ë¡
                $('#mapster_wrap_0').css("display", "block");

                // ê·¸ë£¹ì¼ ê²½ìš° ì¶”ê°€í•˜ê¸° ê°€ëŠ¥
                // í•´ë‹¹ ê²Œì‹œê¸€ì´ ë£¨íŠ¸ê°€ ì•„ë‹ ê²½ìš°
                {% if get_board.post_root.author %}
                    {% if user.profile in get_board.post_root.group.all or get_board.post_root.author == user.profile %}
                        document.getElementById('can').style.display='none';
                        document.getElementById('information_data').style.display='none';
                        document.getElementById('setting').value ='ì˜ì—­ì¶”ê°€';
                        //ìˆ˜ì •í•˜ê¸°ì˜ ëª¨ìŠµ ë°”ë€Œë„ë¡
                        //í•´ë‹¹ ì‘ì„±ìì¼ ê²½ìš°ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •
                        document.getElementById("mod_layer_intent").style.display="none";
                        $('#mod_layer').val("ì˜ì—­ìˆ˜ì •");
                    {% endif %}
                {%else%}
                // í•´ë‹¹ ê²Œì‹œê¸€ì´ ë£¨íŠ¸ ì¼ ê²½ìš°
                    {% if user.profile in get_board.group.all or get_board.author == user.profile %}
                        document.getElementById('can').style.display='none';
                        document.getElementById('information_data').style.display='none';
                        document.getElementById('setting').value ='ì˜ì—­ì¶”ê°€';
                        //ìˆ˜ì •í•˜ê¸°ì˜ ëª¨ìŠµ ë°”ë€Œë„ë¡
                        //í•´ë‹¹ ì‘ì„±ìì¼ ê²½ìš°ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •
                        document.getElementById("mod_layer_intent").style.display="none";
                        $('#mod_layer').val("ì˜ì—­ìˆ˜ì •");
                    {% endif %}
                {% endif %}

                $('area').mapster('deselect');

                $('area').mapster('select');
                $('#mapster_wrap_0').css("margin", "auto");
                $('#see_all').val("ì˜ì—­ ìˆ¨ê¸°ê¸°");
            } else {
                $('area').mapster('deselect');
                $('#mapster_wrap_0').css("margin", "auto");
                $('#see_all').val("ì˜ì—­ ì „ë¶€ë³´ê¸°");
            }
        }

        function mod_layer(){
            if ($('#mod_layer').val() == "ì˜ì—­ìˆ˜ì •"){
                // ë‹¤ë¥¸ ë…€ì„ ì•ˆë³´ì´ë„ë¡
                document.getElementById('can').style.display='none';
                $('#mapster_wrap_0').css("display", "block");
                document.getElementById('information_data').style.display='none';
                document.getElementById('setting').value ='ì˜ì—­ì¶”ê°€';
                // ì˜ì—­ì „ë¶€ë³´ê¸° ì‚¬ë¼ì§€ë„ë¡
                $('area').mapster('deselect');
                $('#see_all').val("ì˜ì—­ ìˆ¨ê¸°ê¸°");

                document.getElementById("mod_layer_intent").style.display="block";
                $('area').mapster('select');
                $('img').mapster('rebind', {
                    stroke: true,
                    onClick: function() {
                    window.location=this.href.replace('/detail/', '/mod_detail/'); //ìˆ˜ì •í•˜ê¸° í´ë¦­í–ˆì„ë•Œ ê·¸ ìœ„ì¹˜ë¥¼ í´ë¦­í•˜ë©´ ìˆ˜ì • ê°€ëŠ¥!
                    return false;
                    },
                    fillOpacity: 0.3,
                    strokeWidth: 2,
                    showToolTip: true,
                    mapKey: 'state',
                    // listSelectedClass: 'selected'
                    areas: [
                    {% for i in areas %}
                        {% if i.author == user.profile %}
                        {
                            key: '{{i.id}}',
                            stroke: true,
                            {% if user.is_authenticated %}
                            strokeColor:"ff44ff",
                            {% else %}
                            strokeColor:"FF0000",
                            {% endif %}
                            {% if i.secure == 'public' %}
                            toolTip: '{{i.title}}',
                            {% else %}
                            toolTip: 'ë¹„ê³µê°œ:{{i.title}}',
                            {% endif %}
                        },
                        {% elif i.secure == 'public' %}
                        {
                            key: '{{i.id}}',
                            stroke: true,
                            toolTip: '{{i.title}}',
                        },
                        {% else %}
                        {
                            key: '{{i.id}}',
                            stroke: true,
                            strokeColor:"FFFF00",
                            toolTip: 'ë¹„ê³µê°œ:{{i.title}}'
                        },
                        {% endif %}
                    {% endfor %}
                    ]
                });

                $('#mapster_wrap_0').css("margin", "auto");
                $('#mod_layer').val("ì˜ì—­ ìˆ˜ì •ì·¨ì†Œ");
            } else {
                document.getElementById("mod_layer_intent").style.display="none";
                $('area').mapster('deselect');
                $('area').mapster('select');
                $('img').mapster('rebind', {
                    stroke: true,
                    clickNavigate: true,
                    fillOpacity: 0.3,
                    strokeWidth: 2,
                    showToolTip: true,
                    mapKey: 'state',
                    // listSelectedClass: 'selected'
                    areas: [
                    {% for i in areas %}
                        {% if i.author == user.profile %}
                        {
                            key: '{{i.id}}',
                            stroke: true,
                            {% if user.is_authenticated %}
                            strokeColor:"ff44ff",
                            {% else %}
                            strokeColor:"FF0000",
                            {% endif %}
                            {% if i.secure == 'public' %}
                            toolTip: '{{i.title}}',
                            {% else %}
                            toolTip: 'ë¹„ê³µê°œ:{{i.title}}',
                            {% endif %}
                        },
                        {% elif i.secure == 'public' %}
                        {
                            key: '{{i.id}}',
                            stroke: true,
                            toolTip: '{{i.title}}',
                        },
                        {% else %}
                        {
                            key: '{{i.id}}',
                            stroke: true,
                            strokeColor:"FFFF00",
                            toolTip: 'ë¹„ê³µê°œ:{{i.title}}'
                        },
                        {% endif %}
                    {% endfor %}
                    ]
                });
                $('#mapster_wrap_0').css("margin", "auto");
                $('#mod_layer').val("ì˜ì—­ìˆ˜ì •");
            }
        }

        function save_data(){
            var a =   confirm("í•´ë‹¹ ì˜ì—­ì˜ ì •ë³´ë¥¼ ì €ì¥í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")
            var x1 = document.getElementById("id_cord_sx").value; //image mapì„ ì €ì¥í•  ì¢Œí‘œë¥¼ ë§Œë“¤ê¸°
            var y1 = document.getElementById("id_cord_sy").value;
            var x2 = document.getElementById("id_cord_lx").value;
            var y2 = document.getElementById("id_cord_ly").value;
            var title = document.getElementById("id_title").value;
            var important = document.getElementById("id_important").value;
            var information = document.getElementById("id_information").value;
            if(a){
                if (x1 == "" || y1 == "" || x2 == "" || y2 == "")
                {
                    alert("ì‚¬ì§„ êµ¬ì—­ì„ í´ë¦­ í›„ ë“œë˜ê·¸í•˜ì—¬ ì˜ì—­ì„ ì„¤ì •í•´ì£¼ì„¸ìš”!");
                    return false;
                } else if(title == "") {
                    alert("ì œëª©ì„ ì ì–´ì£¼ì„¸ìš”!");
                    return false;
                } else if(information == "") {
                    alert("ë‚´ìš©ì„ ì ì–´ì£¼ì„¸ìš”!");
                    return false;
                } else if(important == "") {
                    alert("ì¤‘ìš”ë„ë¥¼ ì ì–´ì£¼ì„¸ìš”!");
                    return false;
                }
                document.information_data.submit();
            } else {
                return false;
            }
        }
       </script>

        {% endif %}
       <script>
        function route_show(button) {
            if (document.getElementById('route').style.display == 'none'){
                document.getElementById('route').style.display='block';
                button.value='ğŸ“Œê²½ë¡œì·¨ì†Œ';
            }else{
                document.getElementById('route').style.display='none';
                button.value='ğŸ“Œê²½ë¡œí™•ì¸';
            }
        }
        function re_comment(x, y){
            var text = document.getElementById(y);
            if (x.checked == true){
                text.style.display="block";
            } else {
                text.style.display="none";
            }
        }

        function delete_comment(x) {
        var r = confirm("ì •ë§ë¡œ ì˜ê²¬ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?");
        if (r == true) {
            location.href = "{% url 'board:comment_del' get_board.category.board_name get_board.id '00000' %}".replace(/00000/, x);
        } else {
            return;
        }
        }

        </script>

        <!-- notice ajax ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€ -->
        {% include "notice_ajax.html" %}

        <!-- notice ajax ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€ -->
        {% include "bookmark_ajax.html" %}

</head>
<script>
//ê²€ìƒ‰í•˜ê¸° ë§Œë“¤ê¸°
function search_select(){
    var value = $('#search_input').val();
    if ($('#search_list [value="' + value + '"]').data('value')){
        window.location="{% url 'board:detail' get_board.category.board_name '00000' %}".replace('/00000', '/'+$('#search_list [value="' + value + '"]').data('value'));
    }
}

function find_select(){
    var value = $('#find_input').val();
    var key = $('#find_list [value="' + value + '"]').data('value');
    if (key){
        $('area').mapster('deselect');
        $('img').mapster('highlight', String(key));
        $('#see_all').val("ì˜ì—­ ì „ë¶€ë³´ê¸°");
    }
}

function delete_root(){
    var a =   prompt("í•´ë‹¹ ê¸€ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\nì‚­ì œí•˜ë©´ ì‚­ì œí•˜ë ¤ëŠ” ê¸€ì˜ ì˜ì—­ì˜ ì •ë³´ê°€ ì „ë¶€ ì‚­ì œë©ë‹ˆë‹¤!\n'ì‚­ì œ'ë¥¼ ì…ë ¥í•˜ë©´ í•´ë‹¹ ì •ë³´ê°€ ì‚­ì œë©ë‹ˆë‹¤!");
    if(a == "ì‚­ì œ"){
        document.del_root.submit();
    } else {
        return false;
    }
}

//ì˜ì˜ê´€ë¦¬ ìˆ˜ì • oprn close
function open_area() {
            document.getElementsByClassName("view-area")[0].style.display = 'block';
            document.getElementsByClassName("view-area")[1].style.display = 'block';
            document.getElementsByClassName("non-view")[0].style.display = 'none';
        }

function close_area(){
            document.getElementsByClassName("view-area")[0].style.display = 'none';
            document.getElementsByClassName("view-area")[1].style.display = 'none';
            document.getElementsByClassName("non-view")[0].style.display = 'block';
        }

</script>

{% if get_board.image %}
<body onload="init()">
{% else %}
<body>
{% endif %}

<div class="container-fluid">
<!-- ê²€ìƒ‰í•˜ê¸° ë§Œë“¤ê¸° -->
{% include 'navbar.html' %}
{% if get_board.post.id %}
<div style="display: flex;justify-content: space-between;margin-bottom: 5px; ">
<a class="btn btn-gray fonta" href="{% url 'board:detail' get_board.category.board_name get_board.post.id %}">ë’¤ë¡œê°€ê¸°</a>
<div>
    {% if user.is_authenticated %}
    <span title="ë¶ë§ˆí¬" style="cursor: pointer;" onclick="ajax_board_bookmark('{{get_board.id}}', this)">{{get_board|board_bookmark:request.user.username|safe}}</span>
    {% endif %}
    <a class="btn btn-gray fonta" href="{% url 'board:main' get_board.category.board_name %}">ë’¤ë¡œê°€ê¸° </a>
</div>
</div>
{% else %}
<div style="text-align: right; margin-bottom: 5px;">
    {% if user.is_authenticated %}
    <span title="ë¶ë§ˆí¬" style="cursor: pointer;" onclick="ajax_board_bookmark('{{get_board.id}}', this)">{{get_board|board_bookmark:request.user.username|safe}}</span>
    {% endif %}
    <a class="btn btn-gray fonta" href="{% url 'board:main' get_board.category.board_name %}">ë’¤ë¡œê°€ê¸° </a>
</div>
{% endif %}
<p style = "margin-top:10px; margin-bottom: -10px;">
    <span style = "font-size: 1.8ch;">{{get_board.created_at|date:"Y.m.d(D)"}}</span>
    <span style = "font-size: 1.8ch; float: right;">{{get_board.author}}</span>
</p>
<hr>
<div style="text-align: center;">

    





    {% if get_board.image %}


        <div style="text-align: center;">
            <img style="margin:auto;" class="map" draggable="false" id="can_img" src="{{get_board.image.url}}" usemap="#map"></img>
            <canvas id="can" style="display:none; margin:auto;border:2px solid;touch-action: none;"></canvas>
        </div>
    {% endif %}

<div style = "margin-bottom: -18px; text-align: left;"> <!--ì˜ì—­ ê´€ë¦¬ ë²„íŠ¼ ì—´ê³ ë‹«ê¸°-->
    <div class = "non-view" onclick = "open_area()">
        <p style = "margin: 0 0 30px 10px; padding: 8px; font-weight: bold;">ìœ„ì¹˜ ë° ì˜ì—­ ê´€ë¦¬ <img style = "width:18px; height: 10px;" src = "{% static 'ì´ë¯¸ì§€ìŠ¤í† ë¦¬/í˜ì´ì§€_7/1x/ì—´ê¸°.png' %}"></p>
    </div>
    <div class = "view-area" onclick="close_area()">
        <p style = "margin: 0 0 10px 10px; padding: 8px; font-weight: bold;">ìœ„ì¹˜ ë° ì˜ì—­ ê´€ë¦¬ <img style = "width:18px; height: 10px;" src = "{% static 'ì´ë¯¸ì§€ìŠ¤í† ë¦¬/í˜ì´ì§€_8/1x/ì ‘ê¸°.png' %}"></p>
    </div>
</div>



    <div class = "view-area" style = "text-align:center; padding: 10px 0px 5px 0px;"> <!--ì˜ì—­ ìˆ¨ê¸°ê¸° & ì „ì²´ë³´ê¸° & ë£¨íŠ¸ ìˆ˜ì •ì‚­ì œ-->
        {% if get_board.image %}
            <input class="btn btn-togray fonta" id="see_all" type="button" value="ì˜ì—­ ìˆ¨ê¸°ê¸°" onclick="see_all();">
            <!-- Extra large modal -->
            <button type="button" class="btn btn-togray fonta" data-toggle="modal" data-target=".bd-example-modal-xl">ì „ì²´í™”ë©´</button>

            <div class="modal fade bd-example-modal-xl" tabindex="-1" role="dialog" aria-labelledby="myExtraLargeModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-xl modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <img width="100%" style="margin:auto;" src="{{get_board.image.url}}"></img>
                </div>
            </div>

            </div>
        {% endif %}
            
        <div style = "margin-top: 10px;"> <!-- ë£¨íŠ¸ ë° ìˆ˜ì • ì‚­ì œ-->
                <div style="margin-bottom: 10px;">
                <!-- ë£¨íŠ¸ê°€ ì•„ë‹ ê²½ìš°! -->
                <!-- ê²Œì‹œê¸€ ì‘ì„±ì ê·¸ë¦¬ê³  ë£¨íŠ¸ ê²Œì‹œê¸€ ì‘ì„±ìë§Œì´ ìˆ˜ì • ë° ì‚­ì œê°€ ê°€ëŠ¥í•˜ë‹¤! -->
                {% if get_board.post_root.author %}
                    <!-- ê²Œì‹œê¸€ì„ ì‚­ì œí•  ìˆ˜ ìˆëŠ” ê¶Œí•œì€ ê²Œì‹œìì´ë©´ì„œ ê¶Œí•œì´ ìˆì„ ê²½ìš° -->
                    {% if user.profile == get_board.author and user.profile in get_board.post_root.group.all or get_board.post_root.author == user.profile or user.is_superuser %}
                    <a class="btn btn-togray fonta" href="{% url 'board:root_modify' get_board.category.board_name get_board.id %}">í˜„ì¬ìœ„ì¹˜ ìˆ˜ì •</a>
                    
                    <form style="display: contents;" onsubmit="return delete_root();" action="{% url 'board:root_delete' get_board.category.board_name get_board.id %}" method='post' name='del_root'>
                        {% csrf_token %}
                        <input class="btn btn-togray fonta" type="submit" value="í˜„ì¬ìœ„ì¹˜ ì‚­ì œ">
                    </form>
                    {% endif %}
                {%else%}
                <!-- ë£¨íŠ¸ë„£ëŠ” ê³³ì— ë£¨íŠ¸ê°€ ìˆì„ ê²½ìš°!(ì¦‰, ê²Œì‹œê¸€ì´ ë£¨íŠ¸ ì¼ ê²½ìš°) -->
                <!-- ê²Œì‹œê¸€ ì‘ì„±ìë§Œ ìˆ˜ì • ë° ì‚­ì œê°€ ê°€ëŠ¥í•˜ë‹¤! -->
                    {% if user.profile == get_board.author or user.is_superuser %}
                    <a class="btn btn-togray fonta" href="{% url 'board:root_modify' get_board.category.board_name get_board.id %}">í˜„ì¬ìœ„ì¹˜ ìˆ˜ì •</a>
                    <form style="display: contents;" onsubmit="return delete_root();" action="{% url 'board:root_delete' get_board.category.board_name get_board.id %}" method='post' name='del_root'>
                        {% csrf_token %}
                        <input class="btn btn-togray fonta" type="submit" value="í˜„ì¬ ìœ„ì¹˜ ì‚­ì œ">
                    </form>
                    {% endif %}
                {% endif %}
                </div>
            
                <p>
                    <input class="custom-select fonta" style="text-align: center;width: 140px;" id="search_input" type="search" name="search" list="search_list" placeholder="íŠ¹ì •ì˜ì—­" autocomplete="off" onchange="search_select();"/>
                    <datalist id="search_list">
                        {% for i in search_board %}
                        <option data-value="{{i.id}}" value="{{i.title}}"> {{i.show_all_node}}{{i.title}}</option>
                        {% endfor %}
                    </datalist>
            
                    <input class="custom-select fonta" style="text-align: center; width: 140px;" id="find_input" type="search" name="search" list="find_list" placeholder="í˜„ì¬ì˜ì—­" autocomplete="off" onchange="find_select();"/>
                    <datalist id="find_list">
                        <!-- ì •ë ¬í•˜ëŠ” í•¨ìˆ˜ë¥¼ íŠ¹ì • classì— ë§Œë“¤ì–´ì„œ ì‚¬ìš© -->
                        {% for i in find_input %}
                            {% if i.secure == 'public' %}
                                <option data-value="{{i.id}}" value="{{i.title}}"></option>
                            {% else %}
                                <option data-value="{{i.id}}" value="{{i.title}}"></option>
                            {% endif %}
                        {% endfor %}
                    </datalist>
                </p>
            
                <!-- ê²½ë¡œ ë³´ì—¬ì£¼ê¸° -->
                {% if get_board.post %}
                <p><input id="" type="button" value="ğŸ“Œê²½ë¡œí™•ì¸" onclick="route_show(this);"></input></p>
                {% endif %}
            
            
                <!-- ì§€ê¸ˆê¹Œì§€ ì˜¨ ê²½ë¡œë¥¼ ì•Œê¸° ìœ„í•´ì„œ ë„£ê¸° -->
                <div id="route" style="display: none;">
                {% if get_board.post %}
                    <p>
                    {% include "route.html" %} > ğŸ”¹{{get_board.title}}
                    </p>
                {% endif %}
                </div>
            
                {% if get_board.post %}
                    {% if get_board.author.nickname != get_board.post_root.author.nickname %}
                    <!-- í˜‘ë ¥ìì˜ ì•„ì´ë””ë¥¼ ì•Œ ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•´ì„œ ì„¤ì • -->
                    <div style="text-align:center;"><span class="badge badge-pill badge-light">ğŸ¤¼ì‘ì„±ì : {% if get_board.author.nickname %}{{get_board.author.nickname}}{% else %}íƒˆí‡´íšŒì›{% endif %}</span></div>
                    {% endif %}
                {% endif %}
        </div>

        <!-- ì¶”ê°€ë‘ ìˆ˜ì •ë§Œ í•  ìˆ˜ ìˆë„ë¡ (ì¶”í›„ì—ëŠ” ê´€ë¦¬ìëŠ” ì „ë¶€ ê°€ëŠ¥í•˜ê²Œ ë§Œë“¤ ê²ƒ) -->
        <!-- ë£¨íŠ¸ë„£ëŠ” ê³³ì— ë£¨íŠ¸ê°€ ìˆì„ ê²½ìš°!(ì¦‰, ê²Œì‹œê¸€ì´ ë£¨íŠ¸ê°€ ì•„ë‹ ê²½ìš°) -->
        <!-- ë‚˜ì¤‘ì— get_board.post_root.author == user.profile ì–´ì°¨í”¼ ëª¨ë“  ê¶Œí•œì´ ìˆì–´ì„œ êµ³ì´ í•„ìš”ê°€ ì—†ìŒ -->
        {% if get_board.image %}
        {% if get_board.post_root.author %}
            {% if user.profile in get_board.post_root.group.all or get_board.post_root.author == user.profile %}
            <p class = "">
            <input class="btn btn-pinks fonta" id='setting' type="button" value="ì˜ì—­ì¶”ê°€" onclick="use_canvas();">
            <input class="btn btn-pinks fonta" id="mod_layer" type="button" value="ì˜ì—­ìˆ˜ì •" onclick="mod_layer();"/>
            </p>
            {% endif %}
        {%else%}
        <!-- ë£¨íŠ¸ë„£ëŠ” ê³³ì— ë£¨íŠ¸ê°€ ìˆì„ ê²½ìš°!(ì¦‰, ê²Œì‹œê¸€ì´ ë£¨íŠ¸ ì¼ ê²½ìš°) -->
            {% if user.profile in get_board.group.all or get_board.author == user.profile %}
            <p>
            <input class="btn btn-pinks fonta" id='setting' type="button" value="ì˜ì—­ì¶”ê°€" onclick="use_canvas();">
            <input class="btn btn-pinks fonta" id="mod_layer" type="button" value="ì˜ì—­ìˆ˜ì •" onclick="mod_layer();"/>
            </p>
            {% endif %}
        {% endif %}
        {% endif %}

    </div>

 
    {% if get_board.image %}
    {% if get_board.post_root.author %}
        {% if user.profile in get_board.post_root.group.all or get_board.post_root.author == user.profile %}
        <div>
        <!-- ì˜ì—­ì¶”ê°€í•˜ê¸° -->
        <form onsubmit="return save_data();" enctype="multipart/form-data" style='display:none;' id='information_data' action='{% url "board:write" board_name get_board.id %}' method='post' name='information_data'>
            {% csrf_token %}
            {{board_form.as_p}}
        <input class="btn btn-pinks fonta" type='submit' value='ì˜ì—­ ì •ë³´ ì¶”ê°€'><br><br>
        </form>
        </div>

        <!-- ìˆ˜ì •í•˜ê¸° -->
        <div id="mod_layer_intent" style="display: none;">
            <p><b style = "color:rgb(250, 144, 144);">ìˆ˜ì •í•  ì˜ì—­ì„ ì„ íƒí•´ì£¼ì„¸ìš”!</b></p>
        </div>
        {% endif %}
    {%else%}
        {% if user.profile in get_board.group.all or get_board.author == user.profile %}
        <div>
        <!-- ì˜ì—­ì¶”ê°€í•˜ê¸° -->
        <form onsubmit="return save_data();" enctype="multipart/form-data" style='display:none;' id='information_data' action='{% url "board:write" board_name get_board.id %}' method='post' name='information_data'>
            {% csrf_token %}
            {{board_form.as_p}}
        <input class="btn btn-pinks fonta" type='submit' value='ì˜ì—­ ì •ë³´ ì¶”ê°€'><br><br>
        </form>
        </div>

        <!-- ìˆ˜ì •í•˜ê¸° -->
        <div id="mod_layer_intent" style="display: none;">
            <p><b style = "color:rgb(250, 144, 144);">ìˆ˜ì •í•  ì˜ì—­ì„ ì„ íƒí•´ì£¼ì„¸ìš”!</b></p>
        </div>
        {% endif %}
    {% endif %}

    <map name="map">
        <!-- ì§€ê¸ˆì€ ë§Œë“  ìˆœì„œëŒ€ë¡œ ì¤‘ìš”ë„ê°€ ì»¤ì§€ëŠ” ê²½í–¥ í•„ë“œì— ì¤‘ìš”ë„ í•„ë“œë¥¼ ì§‘ì–´ë„£ì„ ê²ƒì„ -->
        <!-- ë˜í•œ ì‚¬ê°í˜• ë¿ë§Œ ì•„ë‹ˆë¼ ë™ê·¸ë¼ë¯¸ë¥¼ ê·¸ë¦´ ìˆ˜ ìˆëŠ” ê²ƒì„ ë„£ì„ ê²ƒì„ -->
        {% for i in areas %}
            {% if i.secure == 'public' %}
                <area shape="rect" state="{{i.id}}" class="{fillColor:'00ffff'}" coords="{{i.cord_sx}},{{i.cord_sy}},{{i.cord_lx}},{{i.cord_ly}}" href="{% url 'board:detail' board_name i.id %}" target="_self">
            {% else %}
                <area shape="rect" state="{{i.id}}" class="{fillColor:'00ffff'}" coords="{{i.cord_sx}},{{i.cord_sy}},{{i.cord_lx}},{{i.cord_ly}}" href="{% url 'board:detail' board_name i.id %}" target="_self">
            {% endif %}
        {% endfor %}
    </map>
{% endif %}

<h1 class = "a" style = "font-size: 2.2ch; font-weight: 580;">{{get_board.title}}</h1>
<div class="information a">{{get_board.information|linebreaks}}</div>


</div>

<hr>
<!-- ëŒ“ê¸€ ì‘ì„± -->
{% if user.is_authenticated %}
<form action="{% url 'board:comment_write' get_board.category.board_name get_board.id %}" method="post">
{% csrf_token %}
<div class="input-group mb-3">
    {{ commentform.as_table }}
    <div class="input-group-append">
      <input class="btn btn-outline-secondary btn-pinks fonta" type="submit" value="ì‘ì„±"/>
    </div>
</div>
</form>
{% endif %}

<p></p>
<!-- ëŒ€ëŒ€ëŒ“ê¸€ ì •ë³´ ë³¼ ìˆ˜ ìˆë„ë¡ ì„¤ì •!!! ì¬ê·€ í•¨ìˆ˜ -->
{%for comment in detail_getComment %}
  {%include "comments.html" %}
  <hr>
{%endfor%}
</div>
</body>

</html>
